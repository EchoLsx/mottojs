(function(window,document,undefined){var Motto=function(el,config){this.el=document.querySelectorAll(el)[0];this.config=config||{};this.lyric=config.lyric||"";this.newLyric="";this.showUpSpeed=config.showUpSpeed||0;this.flashSpeed=config.flashSpeed||0;this.flashTimeout=config.flashTimeout||0;this.showOut()};Motto.prototype={showOut:function(){var self=this,i=0,_lyric,_word="";if(self.flashSpeed){self.newLyric=_lyric=self.replaceFun(self.lyric,self.lyric.split(""))}else{self.newLyric=_lyric=self.lyric}if(self.showUpSpeed){var timer=setInterval(function(){_word+=_lyric.split("")[i];i++;self.newLyric=_word;self.el.innerHTML=_word;if(self.lyric.split("").length===i){clearInterval(timer);setTimeout(function(){self.flash(self.newLyric)},self.flashTimeout)}},self.showUpSpeed)}else{self.el.innerHTML=_lyric;setTimeout(function(){self.flash(self.newLyric)},self.flashTimeout)}},replaceFun:function(text,replaceArr){return text.split("").map(function(item){var newArr=replaceArr.filter(function(item,index){return replaceArr.indexOf(item)==index});return item=newArr[Math.floor((Math.random()*newArr.length))]}).join("")},flash:function(){var self=this,_lyric=self.lyric.split(""),_newLyric=self.newLyric.split(""),_flashSpeed=self.flashSpeed;var timer=setInterval(function(){if(_newLyric.join("")!==_lyric.join("")){for(var i in _lyric){if(_newLyric[i]!==_lyric[i]){var _lyricUnique=_lyric.filter(function(item,index){return _lyric.indexOf(item)==index});_newLyric[i]=_lyricUnique[Math.floor((Math.random()*_lyricUnique.length))];self.el.innerHTML=_newLyric.join("")}}}else{clearInterval(timer);self.callback()}},_flashSpeed)},callback:function(){if(this.config.callback){this.config.callback()}}};if(typeof module==="object"&&typeof module.exports==="object"){module.exports=exports=Motto}else{if(typeof define==="function"&&define.amd){define(function(){return Motto})}else{if(typeof window==="object"){window.Motto=Motto}}}})(window,document);